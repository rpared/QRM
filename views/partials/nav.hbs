<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow">
        <a class="navbar-brand" id="logo" href="/">
            <img class="logo" src="/images/QRMenu_Logo_Dark_200px.png" height="50" alt="QR Menu Logo">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" id="aboutButton" href="/about">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="priceButton" href="/pricing">Pricing</a>
                </li>
            </ul>

            <span id="userWelcome" class="user-welcome" style="display: none"></span>

            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link btn btn-primary" id="authButton" href="/login">Login</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn btn-primary" id="registerButton" href="/register">Register</a>
                </li>
            </ul>
        </div>
    </nav>
    
    <!-- JavaScript script to fetch user data and manage authentication -->
    
<script>
  const userSession = {{userSession}};
  console.log(userSession);
    if (userSession){
    document.addEventListener("DOMContentLoaded", () => {
      
         // Authentication button functionality
        const authButton = document.getElementById("authButton");
        const userWelcome = document.getElementById("userWelcome");
        const registerButton = document.getElementById("registerButton");
        const aboutButton = document.getElementById("aboutButton");
        const priceButton = document.getElementById("priceButton");
        const logo = document.getElementById("logo");
        const navbar = document.querySelector(".navbar");

        authButton.textContent = "Logout";
              authButton.addEventListener("click", function () {
                fetch("/logout", {
                  method: "POST",
                })
              });

        userWelcome.textContent = `Hello, {{user.firstname}}!`;
              userWelcome.style.display = "inline-block"; // Show the welcome message
              registerButton.style.display = "none";
              aboutButton.style.display = "none";
              priceButton.style.display = "none";
              logo.href ="/user_dashboard"
              navbar.classList.add('fixed-top');

    });
 }
</script>




<!-- Unneeded lenghty script
<script>
    document.addEventListener("DOMContentLoaded", () => {
         // Authentication button functionality
        const authButton = document.getElementById("authButton");
        const userWelcome = document.getElementById("userWelcome");
        const registerButton = document.getElementById("registerButton");
        const aboutButton = document.getElementById("aboutButton");
        const priceButton = document.getElementById("priceButton");
        const logo = document.getElementById("logo");
    

        fetch("/check-login")
          .then((response) => response.json())
          .then((data) => {
            if (data.isLoggedIn) {
              authButton.textContent = "Logout";
              authButton.addEventListener("click", function () {
                fetch("/logout", {
                  method: "POST",
                })
                  .then((response) => response.json())
                  .then((data) => {
                    if (data.message) {
                      alert(data.message);
                      window.location.href = "/"; // Redirect to home after logout
                    } else {
                      alert("Error logging out");
                    }
                  })
                  .catch((err) => console.error(err));
              });
              //userWelcome.textContent = `Hello, ${data.user.first_name}!`; // Display user welcome message not implemented
              userWelcome.textContent = `Hello, user!`;
              userWelcome.style.display = "inline-block"; // Show the welcome message
              registerButton.style.display = "none";
              aboutButton.style.display = "none";
              priceButton.style.display = "none";
              logo.href ="/user_dashboard"
            } else {
              authButton.textContent = "Login";
              authButton.addEventListener("click", function () {
                window.location.href = "/login"; // Redirect to login page
              });
            }
          })
          .catch((err) => console.error(err));
    });
</script>
-->